!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prop-types"),require("react"),require("clone"),require("d3-ease"),require("d3-hierarchy")):"function"==typeof define&&define.amd?define(["prop-types","react","clone","d3-ease","d3-hierarchy"],t):"object"==typeof exports?exports["react-tree-graph"]=t(require("prop-types"),require("react"),require("clone"),require("d3-ease"),require("d3-hierarchy")):e["react-tree-graph"]=t(e["prop-types"],e.react,e.clone,e["d3-ease"],e["d3-hierarchy"])}(this,function(e,t,r,n,o){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(8),p=n(l),f=r(9),c=r(10),d=r(0),h=n(d),y=r(1),m=n(y),b=r(4),g=n(b),k=r(5),v=n(k),P=r(6),_=n(P),O={data:h.default.object.isRequired,animated:h.default.bool.isRequired,duration:h.default.number.isRequired,easing:h.default.func.isRequired,steps:h.default.number.isRequired,height:h.default.number.isRequired,width:h.default.number.isRequired,keyProp:h.default.string.isRequired,labelProp:h.default.string.isRequired,getChildren:h.default.func,treeClass:h.default.string,treeClickHandler:h.default.func,linkClass:h.default.string,linkClickHandler:h.default.func,margins:h.default.shape({bottom:h.default.number.isRequired,left:h.default.number.isRequired,right:h.default.number.isRequired,top:h.default.number.isRequired}).isRequired,nodeClass:h.default.string,nodeClickHandler:h.default.func,nodeOffset:h.default.number,nodeRadius:h.default.number},q={animated:!1,duration:500,easing:f.easeQuadOut,steps:20,keyProp:"name",labelProp:"name",margins:{bottom:10,left:20,right:150,top:10},linkClass:"link",nodeClass:"node",nodeOffset:3.5,nodeRadius:5},C=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.width-this.props.margins.left-this.props.margins.right,r=this.props.height-this.props.margins.top-this.props.margins.bottom,n=(0,c.hierarchy)((0,p.default)(this.props.data),this.props.getChildren),o=(0,c.tree)().size([r,t])(n),i=o.descendants(),a=o.links();i.forEach(function(t){t.y+=e.props.margins.top});var s=i[0].x,l=i[0].y;return m.default.createElement("svg",{className:this.props.treeClass,onClick:this.props.treeClickHandler,height:this.props.height,width:this.props.width},a.map(function(t){return m.default.createElement(g.default,u({key:t.target.data[e.props.keyProp],animated:e.props.animated,duration:e.props.duration,steps:e.props.steps,animatedProps:[{name:"x1",initialValue:s},{name:"x2",initialValue:s},{name:"y1",initialValue:l},{name:"y2",initialValue:l}],component:v.default,easing:e.props.easing,className:e.props.linkClass,keyProp:e.props.keyProp,onClick:e.props.linkClickHandler,source:t.source,target:t.target,x1:t.source.x,x2:t.target.x,y1:t.source.y,y2:t.target.y},t.data))}),i.map(function(t){return m.default.createElement(g.default,u({key:t.data[e.props.keyProp],animated:e.props.animated,duration:e.props.duration,steps:e.props.steps,animatedProps:[{name:"x",initialValue:s},{name:"y",initialValue:l}],component:_.default,easing:e.props.easing,className:e.props.nodeClass,keyProp:e.props.keyProp,labelProp:e.props.labelProp,onClick:e.props.nodeClickHandler,offset:e.props.nodeOffset,radius:e.props.nodeRadius,x:t.x,y:t.y},t.data))}))}}]),t}(m.default.PureComponent);t.default=C,C.propTypes=O,C.defaultProps=q},function(e,t){},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),p=n(l),f=r(1),c=n(f),d={animated:p.default.bool.isRequired,animatedProps:p.default.arrayOf(p.default.shape({name:p.default.string.isRequired,initialValue:p.default.number})).isRequired,component:p.default.func.isRequired,duration:p.default.number.isRequired,easing:p.default.func.isRequired,steps:p.default.number.isRequired},h=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state=e.animatedProps.reduce(function(t,r){return t[r.name]=r.initialValue||e[r.name],t},{}),r}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.animate(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.animatedProps.every(function(r){return t.props[r.name]===e[r.name]})||this.animate(e)}},{key:"animate",value:function(e){var t=this;if(e.animated){clearInterval(this.animation);var r=0,n=this.state;this.animation=setInterval(function(){r++,t.setState(e.animatedProps.reduce(function(o,i){return o[i.name]=t.calculateNewValue(n[i.name],e[i.name],r/e.steps),o},{})),r===e.steps&&(clearInterval(t.animation),t.animation)},e.duration/e.steps)}}},{key:"calculateNewValue",value:function(e,t,r){return e+(t-e)*this.props.easing(r)}},{key:"render",value:function(){return this.props.animated?c.default.createElement(this.props.component,u({},this.props,this.state)):c.default.createElement(this.props.component,this.props)}}]),t}(c.default.PureComponent);t.default=h,h.propTypes=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,r,n){return"M"+t+","+e+"C"+(t+n)/2+","+e+" "+(t+n)/2+","+r+" "+n+","+r}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),p=n(l),f=r(1),c=n(f),d={source:p.default.object.isRequired,target:p.default.object.isRequired,className:p.default.string,keyProp:p.default.string.isRequired,onClick:p.default.func,x1:p.default.number.isRequired,x2:p.default.number.isRequired,y1:p.default.number.isRequired,y2:p.default.number.isRequired},h=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleClick=r.handleClick.bind(r),r}return a(t,e),s(t,[{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(this.props.source.data[this.props.keyProp],this.props.target.data[this.props.keyProp],e)}},{key:"render",value:function(){var e=u(this.props.x1,this.props.y1,this.props.x2,this.props.y2);return c.default.createElement("path",{className:this.props.className,d:e,onClick:this.handleClick})}}]),t}(c.default.PureComponent);t.default=h,h.propTypes=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),l=n(s),p=r(1),f=n(p),c={x:l.default.number.isRequired,y:l.default.number.isRequired,className:l.default.string,keyProp:l.default.string.isRequired,labelProp:l.default.string.isRequired,onClick:l.default.func,offset:l.default.number.isRequired,radius:l.default.number.isRequired},d=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleClick=r.handleClick.bind(r),r}return a(t,e),u(t,[{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(this.props[this.props.keyProp],e)}},{key:"getTransform",value:function(){return"translate("+this.props.y+", "+this.props.x+")"}},{key:"render",value:function(){return f.default.createElement("g",{className:this.props.className,transform:this.getTransform(),onClick:this.handleClick},f.default.createElement("circle",{r:this.props.radius}),f.default.createElement("text",{dx:this.props.radius+.5,dy:this.props.offset},this.props[this.props.labelProp]))}}]),t}(f.default.PureComponent);t.default=d,d.propTypes=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(3);var n=r(2),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=o.default},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=o}])});